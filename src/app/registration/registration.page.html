<ion-header>
    <ion-toolbar color="danger">
        <ion-title> {{title}} </ion-title>
    </ion-toolbar>
</ion-header>
<ion-content class="ion-padding main_background">
    <form [formGroup]="form">
        <ion-grid>
            <ion-row>
                <ion-col size-sm="6" offset-sm="3" class="ion-text-center">
                    <ion-img style="width: 80px; display: block; margin: auto;" class="icon_ani" src="../assets/icon/registration.png"></ion-img>
                    <h1 class="font-bolder">{{heading1}}</h1>
                </ion-col>
            </ion-row>
            <ion-row>
                <ion-col size-sm="6" offset-sm="3">
                    <ion-list>

                        <div class="container_">
                            <ul class="progressbar">
                                <li class="current">{{step1}}</li>
                                <li>{{step2}}</li>
                                <li>{{step3}}</li>
                            </ul>
                        </div>
                        <br>
                        <div>
                            <ion-label position="floating">{{mobileNumber}}</ion-label>
                        </div>
                        <br>
                        <ion-row style="column-gap: 5px;">
                            <ion-col size="3" class="padding_o">
                                <ion-select class="input_txt" interface="action-sheet" name="mobilePrefix" formControlName="mobilePrefix" [placeholder]="selectMobilePrefixPlaceholder" [cancelText]="cancelText">
                                    <ion-select-option value="{{item.MobilePrefix}}" *ngFor="let item of loadedMobilePrefixes">{{item.MobilePrefix}}</ion-select-option>
                                </ion-select>
                            </ion-col>
                            <ion-col class="padding_o" style="display: flex; column-gap: 5px;">
                                <ion-input class="input_txt ion-padding-start" type="text" formControlName="mobileNumber" required maxlength="7" [placeholder]="mobileNumberPlaceholder" minlength="7"></ion-input>
                            </ion-col>
                        </ion-row>
                        <br>
                        <style>
                            .item-native {
                                padding: 0px;
                            }
                        </style>
                        <ion-row>
                            <ion-col size="12">
                                <ion-list lines="none">
                                    <ion-item style="--padding-start:0px;">
                                        <ion-checkbox style="margin-inline: 0px 10px;" slot="start" class="terms" #isDGWCustomerCheckbox formControlName="isDGWCustomer"  [ngClass]="{ 'is-invalid': submitted && f.isDGWCustomer.errors }">
                                        </ion-checkbox>

                                        <ion-label>{{IamaDGWCustomer}}</ion-label>

                                    </ion-item>

                                    <ion-item style="--padding-start:0px;">
                                        <ion-checkbox style="margin-inline: 0px 10px;" slot="start" formControlName="acceptTerms"  [ngClass]="{ 'is-invalid': submitted && f.acceptTerms.errors }"></ion-checkbox>
                                        <ion-label>{{IAccept}} <a href="https://www.dgw.gov.ae/Pages/StaticInnerPage.aspx?key=Terms-Condition&currentLocale=en" target="_blank">{{TermsConditions}}</a></ion-label>
                                    </ion-item>

                                </ion-list>

                                <span class="ion-padding-start" *ngIf="submitted && f.isDGWCustomer.errors" class="msg_red">
                                    {{IamaDGWCustomerMsg}}
                                <br>
                                </span>

                                <span *ngIf="submitted && f.acceptTerms.errors" class="ion-padding-start" class="msg_red">
                                    {{TermsConditionsMsg}}
                                    <br>
                                </span>
                            </ion-col>
                        </ion-row>
                    </ion-list>
                </ion-col>
            </ion-row>
            <ion-row>
                <ion-col size-sm="6" offset-sm="3">

                    <ion-button color="danger" expand="block" (click)="onInitiateSignUp()" [disabled]="!form.valid">
                        {{signup}}
                    </ion-button>

                    <ion-button type="button" color="danger" fill="clear" expand="block" (click)="onSwitchToLogin()">
                        {{switchToLogin}}
                    </ion-button>


                </ion-col>
            </ion-row>
            <ion-row>
             <ion-col>
                <span *ngIf="form.controls['mobileNumber']?.errors?.regExists" class="msg_red">
                    {{message}}
                  </span>
                              
                 <span *ngIf="isRegistrationFailed" class="msg_red">
      
                      {{registrationFailReason}}
      
                  </span>
             </ion-col>
            </ion-row>
        </ion-grid>
    </form>
</ion-content>
<ion-footer class="myjcfooter">
    <div class = "bar bar-footer bar-assertive"> 
      <span>
        <ion-label style="font-size:smaller"> </ion-label> 
      </span>      
  </div>
  </ion-footer>
  